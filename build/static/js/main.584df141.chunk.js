(this.webpackJsonpbikeshop=this.webpackJsonpbikeshop||[]).push([[0],{15:function(e,t,n){e.exports=n(37)},37:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(14),c=n.n(l),u=n(4),o=n(2),i=n(3),m=n.n(i),s="http://localhost:3001/api/users",d=function(){return m.a.get(s).then((function(e){return e.data}))},f=function(e){return m.a.post(s,e).then((function(e){return e.data}))},h=function(e,t){return m.a.put("".concat(s,"/").concat(e),t).then((function(e){return e.data}))},p=function(e){return m.a.delete("".concat(s,"/").concat(e)).then((function(e){return e.data}))},b=function(e){return r.a.createElement("div",null,r.a.createElement("label",null),r.a.createElement("input",{className:"form-input",id:e.name,name:e.name,type:e.type,value:e.value,onChange:e.handleChange,placeholder:e.placeholder}))},E=function(e){return r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:e.name},e.title,r.a.createElement("select",{name:e.name,value:e.value,onChange:e.onChange,disabled:!e.options.length},r.a.createElement("option",{value:" ",disabled:!0},e.placeholder),e.options.map((function(e){return r.a.createElement("option",{key:e,value:e},e)})))))},v=function(e){return r.a.createElement("button",{style:e.style,onClick:e.action,type:e.type},e.title)},g=function(e){var t=e.user,n=e.deleteFunction;return r.a.createElement("tr",null,r.a.createElement("td",null,t.customerName),r.a.createElement("td",null,t.phoneNumber),r.a.createElement("td",null,r.a.createElement("button",{onClick:n},"Delete")))},O=function(e){var t=e.users,n=e.searchString,a=e.deleteButton;if(0===t.length)return null;var l=""===n?t:t.filter((function(e){return e.customerName.toLowerCase().includes(n.toLowerCase())}));return r.a.createElement("table",null,r.a.createElement("tbody",null,l.map((function(e){return r.a.createElement(g,{user:e,key:e.id,deleteFunction:function(){return a(e)}})}))))},j=function(){var e=Object(a.useState)([]),t=Object(o.a)(e,2),n=t[0],l=t[1],c=Object(a.useState)(""),i=Object(o.a)(c,2),m=i[0],s=i[1],g=Object(a.useState)(""),j=Object(o.a)(g,2),y=j[0],C=j[1],S=Object(a.useState)(""),w=Object(o.a)(S,2),N=w[0],k=w[1],B=Object(a.useState)(""),D=Object(o.a)(B,2),F=D[0],x=D[1],L=Object(a.useState)(""),J=Object(o.a)(L,2),I=J[0],P=J[1],U=Object(a.useState)(""),q=Object(o.a)(U,2),z=q[0],A=q[1],G=Object(a.useState)(""),H=Object(o.a)(G,2),K=H[0],M=H[1];Object(a.useEffect)((function(){console.log("effect"),d().then((function(e){console.log("promise fulfilled"),l(e)}))}),[]);var Q=function(e){var t=n.find((function(t){return t.id===e})),a={phoneNumber:m,email:N,bikeBrand:F,typeOfService:z,dueDate:I},r=Object(u.a)(Object(u.a)({},t),a);h(e,r).then((function(t){l(n.map((function(n){return n.id!==e?n:t})))}))};return r.a.createElement("div",null,r.a.createElement("form",{className:"container",onSubmit:function(e){e.preventDefault();var t={customerName:y,phoneNumber:m,email:N,bikeBrand:F,typeOfService:z,dueDate:I,id:n.length+1},a=n.find((function(e){return e.customerName.toLowerCase()===y.toLowerCase()}));a?window.confirm("".concat(y," is already added, replace the details?"))&&Q(a.id):f(t).then((function(e){l(n.concat(e)),C(""),s(""),k(""),x(""),P(""),A("")}))}},r.a.createElement(b,{type:"text",title:"Full Name",name:"name",handleChange:function(e){C(e.target.value)},value:y,placeholder:"Enter your name"}),r.a.createElement(b,{type:"text",title:"Phone Number",name:"number",handleChange:function(e){s(e.target.value)},value:m,placeholder:"Enter phone number"}),r.a.createElement(b,{type:"email",title:"Email",name:"email",handleChange:function(e){k(e.target.value)},value:N,placeholder:"Enter Email"}),r.a.createElement(b,{type:"text",title:"Brand",name:"brand",handleChange:function(e){x(e.target.value)},value:F,placeholder:"Enter brand"}),r.a.createElement(E,{title:"Services",name:"services",options:["wheel adjustment","chain replacement","brake maintenance"],value:z,placeholder:"Select Services",onChange:function(e){A(e.target.value)}}),r.a.createElement(b,{type:"date",title:"Date",name:"date",handleChange:function(e){P(e.target.value)},value:I}),r.a.createElement(v,{title:"Submit",type:"submit"})),r.a.createElement("h1",null,"Filter shown with "),r.a.createElement("input",{value:K,onChange:function(e){M(e.target.value)}}),r.a.createElement("h1",null,"Users"),r.a.createElement(O,{users:n,searchString:K,deleteButton:function(e){window.confirm("Delete ".concat(e.customerName," ?"))&&p(e.id).then((function(){l(n.filter((function(t){return t.id!==e.id})))})).catch((function(t){l(n.filter((function(t){return t.id!==e.id}))),console.log(Error)}))}}))};c.a.render(r.a.createElement(j,null),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.584df141.chunk.js.map